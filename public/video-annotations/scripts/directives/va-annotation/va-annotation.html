<article>
    <!-- Content -->
    <section>
        <h4>{{source.text}}</h4>
    </section>
    <section id="meta">
        <div class="timelapse">
            <span>[{{source.start | secondsToDateTime | date:'HH:mm:ss'}} - {{source.end | secondsToDateTime | date:'HH:mm:ss'}}]</span>
        </div>
        <p>Published:
            <time pubdate datetime="{{source.date_created}}">{{source.date_created | date}}</time>
        </p>
        <div class="author">
            <span>By: {{source.author}}</span>
        </div>
    </section>
    <footer id="comments">
        <a ng-click="toggle = !toggle">{{!toggle ? 'show comments' : 'hide comments'}}</a>
        <article ng-show="toggle">
            <div id="comment-box">
                <input placeholder="Write a comment..." type="text" ng-model="commentText">
                <button type="submit" ng-click="postComment()">post</button>
            </div>
            <section ng-repeat="comment in source.comments.slice().reverse()">
                <p>[{{comment.author}}] {{comment.text}}
                    <a ng-show="comment.isAuthor" ng-click="removeComment(comment._id)" type="submit">[x]</a>
                </p>
            </section>
        </article>
    </footer>
</article>
