<!DOCTYPE html>
<html lang="en">
<head>
</head>
<body style="padding-top: 100px">
<div class="countprint" style="width: 600px;">
    <span class="countprint-tooltip"></span>
</div>

<script src="lodash.min.js"></script>
<script src="countprint.js"></script>
<script>

    var annotations = [
        {page: 1},
        {page: 2},
        {page: 2},
        {page: 2},
        {page: 2},
        {page: 2},
        {page: 2},
        {page: 11},
        {page: 7},
        {page: 3},
        {page: 20},
        {page: 20},
        {page: 20},
        {page: 20},
        {page: 20},
        {page: 20},
        {page: 20},
        {page: 20},
        {page: 20},
        {page: 20},
        {pagepage: 1}
    ];

    var result = _.reduce(annotations, function (result, value, key) {
        if (!result[value.page]) {
            result[value.page] = 0;
        }
        result[value.page] += 1;
        return result;
    }, {});

    var data = [];
    data.length = 20;

    for (var i = 0; i < data.length; i++) {
        var page = i + 1;
        if (result[page]) {
            data[i] = result[page];
        }
    }

    var cp = new CountPrint(data, {
        container: 'countprint',
        tooltip: 'countprint-tooltip',
        maxValue: 10,
        colorful: true
    });
    cp.onCountSelected = function (count) {
        console.log('Selected count: ' + count);
    };
</script>
</body>
</html>