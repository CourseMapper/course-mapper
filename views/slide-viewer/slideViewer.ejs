<% include header %>
<div class="wrapper">
    <!-- Header Navbar -->
    <% include ../admin-lte/mainMenu %>

    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">

        <section class="content-header">
            <ol class ="breadcrumb">
                <li><a href="/"><i class="fa fa-home"></i> Home</a></li>
                <li class ="active"> Slides ></li>
            </ol>
            <h1>
                Slides
            </h1>
        </section>
        <section class="content">
          <div class="row">
            <div class= "col-sm-12 col-md-12">
              <div class="col-sm-7 col-md-7">
                <div class="box">
                  <div class="box-body with-border">
                    <h3 class="">Slides</h3>
                    <div class="pannel box box-primary">
                      <div class= "slide-wrapper" id="slideWrapper">

                        <img src="images/slide.png" class="slide-image" >
                        </img>
                        <!--<object data="ressources/test.pdf" type="application/pdf" class="slide-wrapper">
                            alt : <a href="test.pdf">test.pdf</a>
                        </object>-->

                      </div>
                    </div>

                  </div>
                </div>
              </div>
              <div class="col-sm-5 col-md-5">
                <div class="box">
                  <div class="box-body with-border">
                    <h3 class="">Comments</h3>
                    <div class="pannel box box-primary">
                      <div class= "annotation-wrapper">
                        <div id="showComments">
                        <!--<% for(var i = 0; i < numComments; i++) {%>
                          <div>
                            <label><%=comments[i].author%>(<%=comments[i].dateOfCreation.toTimeString()%>)</label>
                          </div>
                          <div>
                            <%=comments[i].rawText%>
                          </div>
                          <div>
                            <br>
                          </div>
                        <% } %>-->
                        </div>
                        <form action='/slide-viewer/submitComment' method="POST">
                          <fieldset>
                            <div class="control-group">
                               <label for="rawText">Commenting as <%=currentUser.username%></label>
                               <div class="controls">
                                 <textarea class="form-control" id="rawText" name="rawText" placeholder="rawText"></textarea>
                               </div>
                             </div>
                             <div class="control-group">
                               <div class="controls">
                                 <input type="hidden" class="form-control" id="author" name="author" placeholder="author" value= <%=currentUser.username%> >
                               </div>
                             </div>

                             <div class="control-group">
                               <div class="controls">
                                 <button type="submit" class="btn btn-default">Submit</button>
                               </div>
                             </div>
                           </fieldset>
                        </form>
                        <div class="controls">
                          <button class="btn btn-default" onclick="displayComments();">Show comments</button>
                          <div ng-controller="CommentListController">
                            <button class="btn btn-default" ng-click="loadComments('renderedText','true','{}')">Show comments Angular</button>
                            <button class="btn btn-default" ng-click="loadComments('renderedText','false','{}')">Show comments Angular2</button>
                          </div>
                          Sort by:
                          <div ng-controller="CommentListController">

                            <select id="orderTypeSelect" ng-model="orderType">
                              <option value="author">author</option>
                              <option value="dateOfCreation">dateOfCreation</option>
                              <option value="rawText">rawText</option>
                            </select>
                            <select id="orderAscendingSelect" ng-model="ascending">
                              <option value="true">ascending</option>
                              <option value="false">descending</option>
                            </select>
                          </div>
                          Filter by:
                          <select id="filterTypeSelect">
                            <option value="none">none</option>
                            <option value="author">author</option>
                          </select>
                          <div ng-controller="CommentListController">
                            <input id="filterValueText" ng-model="filtersRaw"></input>
                          </div>
                        </div>
                        <div>

                          <form action='/slide-viewer/submitTag' method="POST">
                            <fieldset>
                              <div class="control-group">
                                 <div class="controls">
                                   <input class="form-control" id="annotationZoneName" name="annotationZoneName" placeholder="annotationZoneName"></textarea>
                                 </div>
                               </div>
                             </fieldset>
                             <div class="control-group">
                               <div class="controls">
                                 <button type="submit" class="btn btn-default">Submit</button>
                               </div>
                             </div>
                          </form>

                        </div>
                        <div ng-controller="CommentListController">
                            {{comments}}
                            <div ng-repeat="comment in comments">
                              <div>
                                  <label>{{comment.author}}({{comment.date}}</label>

                                  <div class="commentText" ng-bind-html="comment.html">
                                  </div>
                                  <br>
                                </div>

                              </div>
                            </div>
                        </div>
                        <div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>


    </div>
</div><!-- ./wrapper -->
<% include ../admin-lte/jsfooter %>

<script src="/jquery/jquery-ui.min.js"></script>
<script src="/gridstack/lodash.min.js"></script>
<script src="/gridstack/gridstack.js"></script>
<script src="js/slideviewer.js"></script>
<script src="js/drawdiv.js"></script>

<% include ../admin-lte/footer %>
